<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="robots" content="noindex, nofollow">
  <title>Uploading Dropped and Pasted Images</title>
  <script src="https://cdn.ckeditor.com/4.14.1/full-all/ckeditor.js"></script>
  <script type="text/javascript">
	 function init() {
		CKEDITOR.replace("editor2");
        // this is the event handler used from sendmessage or                         postmessage events//        
         window.onmessage = (event) =>
         {
            // Use shortcut - it has the same result as above.
            if (event.data)
            {
                CKEDITOR.instances.editor2.setData(event.data);
            }
       }
     }

      function sendText() {
        window.parent.postMessage(CKEDITOR.instances.editor2.getData(), "*");
      }
    </script>
</head>

<body onload="init();">
  <textarea cols="10" id="editor2" name="editor2" rows="10" data-sample-short>&lt;p&gt;This is some &lt;strong&gt;sample text&lt;/strong&gt;. You are using &lt;a href=&quot;https://ckeditor.com/&quot;&gt;CKEditor&lt;/a&gt;.&lt;/p&gt;</textarea>
      <br>
    <button class="button" onclick="sendText()">Submit text</button>
  <script>
    CKEDITOR.replace('editor2', {
	extraPlugins: 'image2,mathjax,uploadimage,autogrow,sourcearea,toolbar,undo,wysiwygarea,list,liststyle,format,link,basicstyles,pastefromword', //uploadimage
	
	// Note: this is a token endpoint to be used for CKEditor 4 samples / developer tests only. Images uploaded using the testing token service may be deleted automatically at any moment.
	// To create your own token URL please visit https://ckeditor.com/ckeditor-cloud-services/.

      height: 350,
	  mathJaxLib: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_HTML',
      // Upload images to a CKFinder connector (note that the response type is set to JSON).
      uploadUrl: 'https://acromeremote.github.io/ckfinder/core/connector/php/connector.php?command=QuickUpload&type=Files&responseType=json',

      // Configure your file manager integration. This example uses CKFinder 3 for PHP.
      filebrowserBrowseUrl: 'https://acromeremote.github.io/ckfinder/ckfinder.html',
      filebrowserImageBrowseUrl: 'https://acromeremote.github.io/ckfinder/ckfinder.html?type=Images',
      filebrowserUploadUrl: 'https://acromeremote.github.io/ckfinder/core/connector/php/connector.php?command=QuickUpload&type=Files',
      filebrowserImageUploadUrl: 'https://acromeremote.github.io/ckfinder/core/connector/php/connector.php?command=QuickUpload&type=Images',

      // The following options are not necessary and are used here for presentation purposes only.
      // They configure the Styles drop-down list and widgets to use classes.

      stylesSet: [{
          name: 'Narrow image',
          type: 'widget',
          widget: 'image',
          attributes: {
            'class': 'image-narrow'
          }
        },
        {
          name: 'Wide image',
          type: 'widget',
          widget: 'image',
          attributes: {
            'class': 'image-wide'
          }
        }
      ],

      // Load the default contents.css file plus customizations for this sample.
      contentsCss: [
        'http://cdn.ckeditor.com/4.14.1/full-all/contents.css',
        'assets/css/widgetstyles.css'
      ],

      // Configure the Enhanced Image plugin to use classes instead of styles and to disable the
      // resizer (because image size is controlled by widget styles or the image takes maximum
      // 100% of the editor width).
      image2_alignClasses: ['image-align-left', 'image-align-center', 'image-align-right'],
      image2_disableResizer: true
	  
    });
	if (CKEDITOR.env.ie && CKEDITOR.env.version == 8) {
      document.getElementById('ie8-warning').className = 'tip alert';
    }
  </script>
</body>

</html>
